<!-- Author: Mani; ID: C0887487 -->
<html>
<font size="8" color="green">Final test lab</font><br><br>
Number of rows: <input type="text" id="t1" /><br><br>
Number of cols: <input type="text" id="t2" /><br><br>

<button id="b1" onclick="generateTable()">Generate Table</button><br><br><!--generate table function is called on click -->

<button id="b2" onclick="addColumn()">Add Column</button>

<button id="b3" onclick="addRow()">Add Row</button>

<script language="javascript">

	function generateTable() {
		console.log('Generate table function initiated')
		let rowCount = document.getElementById('t1').value; // gets the row count
		let colCount = document.getElementById('t2').value; // gets the column count

		let table = document.createElement('table');
		let table_body = document.createElement('table_body');


		for (let i = 0; i < rowCount; i++) { // for loop to create table rowwise
			let table_row = document.createElement("tr");
			for (let j = 0; j < colCount; j++) {
				let table_cell = document.createElement("td");
				let table_cellText = document.createTextNode(`Row ${i} Column ${j}`);
				table_cell.appendChild(table_cellText); 
				table_row.appendChild(table_cell);
			}
			table_body.appendChild(table_row);
		}

		table.appendChild(table_body);

		document.body.appendChild(table);
		table.setAttribute("border", "1"); // setting border
		table.setAttribute("id", "target_table");
	}

	function addRow() {     // row addition function
		let table = document.getElementById('target_table');
		let table_body = table.firstChild;
		let colCount = table_body.childNodes[0].childNodes.length;
		let rowCount = table_body.childNodes.length;
		let table_row = document.createElement("tr");
		for (let j = 0; j < colCount; j++) {
			let table_cell = document.createElement("td");
			let table_cellText = document.createTextNode(`Row ${rowCount} Column ${j}`);
			table_cell.appendChild(table_cellText); 
			table_row.appendChild(table_cell);
		}
		table_body.appendChild(table_row);

	}

	function addColumn() {  //column addition fucntion
		let table = document.getElementById('target_table');
		let table_body = table.firstChild;
		let table_rows = table_body.childNodes;
		let colCount = table_body.childNodes[0].childNodes.length;
		let rowCount = table_body.childNodes.length;
		for (let j = 0; j < rowCount; j++) {
			let table_cell = document.createElement("td");
			let table_cellText = document.createTextNode(`Row ${j} Column ${colCount}`);
			table_cell.appendChild(table_cellText);
			table_rows[j].appendChild(table_cell);
		}
		table_body.appendChild(table_rows);
	}
</script>

</html>